#  How to Set a Static IP via the Router (DHCP Reservation)

DO 1 AND 2 

1)    DHCP BINDING THROUGH ROUTER . ( AVOIDS IP FLOATING , CONFLICTS )
     
     Log into your router

      Look for something like “DHCP Reservation,” “Static Leases,” “Address Reservation.”, etc.....

      Find its MAC address of your pi (on the Pi, run ip link and look for eth0 or wlan0) or check the router’s connected devices list.

      Create a DHCP reservation

     Assign the Pi a fixed IP address within your LAN range.

     Map this IP to the Pi’s MAC address.

     Save/apply changes on the router



    . From pi restart the networking service to apply changes or reboot the system ( unplug and plug ):

     3. sudo systemctl restart networking

    . Reboot the system to ensure everything loads properly ( if not already reboot ) :

     4. sudo reboot

    . Verify the static IP assignment after reboot:

     5. ip a




     Why This is the Best Option ( instead of giving from the host itself ( prevends " floating IP " ) )

     Centralized management

     The router controls all IP assignments; easier to manage multiple devices.

     Avoids IP conflicts

     No risk of accidentally assigning an IP already used by another device.

     Easy to change later

     You can reassign IPs from the router without touching the device.

     Works on all devices

     Especially useful if you switch the OS or network settings — the Pi always gets the same IP.

     No need to configure each device manually

     Reduces human error and configuration complexity.

     Compatible with DHCP

     Devices still technically use DHCP; the “static” assignment is handled centrally.


2) SET STATIC IP TO THE DEVICE ITSELF (IF YOU CHANGE THE ROUTER YOU WILL NOW YOUR DEVICES BY IP ( EASIER TO REMEBER IP RATHER THAN MAC ))

  . login to your pi 

  . pi usualy uses "NetworkManager" for its default network manager . YOU SHOULD FIND WHAT network manager  yours is using . 

  . For "NetworkManager" ONLY : 
                               1) nmcli connection show  (find the name for the adapter you want to set static ip e.g "Wired connection 1")

                               2) sudo nmcli connection modify "connection-name" \
                                    ipv4.method manual \
                                    ipv4.addresses static-private-ip/prefix \
                                    ipv4.gateway default-gateway \
                                    ipv4.dns " primary-dns secondary-dns "
                                
                               3) reboot

                               4) nmcli connection show "connection-name" | grep ipv4  (check if you've applied it successfuly)
        
         !!! NOTE !!! for ipv4.dns " primary-dns secondary-dns " FOR THE CLIENTS you should add the server's private ip as the primary dns (ONLY IF YOU HAVE A LOCAL DNS . See pi-hole .) and  leave the secondary dns blank ( so it won't swich to the secondary . Just in case . ) If you leave it blank and the server fails the client won't be able to address domain names . 

         FOR THE SERVER THAT ACTS AS LOCAL DNS  , YOU CAN ADD => ipv4.dns " 8.8.8.8 8.8.4.4 "
         FOR THE SEVRER THAT DOESN'T ACT AS LOCAL DNS => ipv4.dns private-ip-local-dns-server      ( you can add a secondary dns if you want)
         FOR CLIENTS=> ipv4.dns private-ip-local-dns-server      ( you can add a secondary dns if you want)



YOU NEED TO APPLY 1 AND 2 


